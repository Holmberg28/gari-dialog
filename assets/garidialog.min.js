let openGariDialogs=!1,currentBackdrop=null;function GariDialog({title:e="",text:t="",html:n="",color:c="primary",icon:a="",actions:r={},actionsColor:o="",backdrop:i="blur",size:s="lg",close:l="Close",escape:u=!0,autoSelect:d=!0,promptInput:m=[],sound:p=!1}={}){return new Promise((g=>{function x(){openGariDialogs=!0;const x={primary:"#027be3",secondary:"#6c757d",success:"#21ba45",danger:"#c10015",warning:"#f2c037",info:"#0dcaf0",light:"#f8f9fa",dark:"#212529"},f=c.startsWith("#")?c:x[c]||x.primary;o||(o=c);const T=document.createElement("div");T.className="gari-backdrop","blur"!==i&&(T.style.backdropFilter="none",T.style.background=i),currentBackdrop=T;const b=document.createElement("div");b.className=`gari-card gari-size-${s}`,T.appendChild(b);const y=document.createElement("div");y.className="fullscreen"===s?"gari-fullscreen-content":"gari-card-section",b.appendChild(y);const E=document.createElement("div");if(E.className="gari-header-row",y.appendChild(E),a&&E.appendChild(createIconElement(a,f)),e){const t=document.createElement("h4");t.textContent=e,E.appendChild(t)}const h=document.createElement("div");h.className="gari-content",n?h.insertAdjacentHTML("beforeend",n):t&&h.insertAdjacentHTML("beforeend",`<p>${t}</p>`),m.forEach((e=>h.appendChild(createPromptInput(e.type,e.placeholder,e.defaultValue,e.label)))),y.appendChild(h);const v=document.createElement("div");if(v.className="fullscreen"===s?"gari-fullscreen-actions":"gari-card-actions",b.appendChild(v),l){const e=document.createElement("button");e.className="gari-btn",e.style.setProperty("--btn-color",x[o]||o),e.textContent=l,e.addEventListener("click",(()=>closeDialog(T,(()=>g({closed:!0}))))),v.appendChild(e)}let C=0;for(const e in r){if(C>=4)break;const t=document.createElement("button");t.className="gari-btn",t.style.setProperty("--btn-color",x[o]||o),t.textContent=r[e],t.addEventListener("click",(()=>{const t={};m.forEach(((e,n)=>{const c=h.querySelectorAll(".gari-prompt-input")[n];t[e.name||n]=c?.value??null})),closeDialog(T,(()=>g({[e]:!0,inputs:t})))})),v.appendChild(t),C++}if(d&&setTimeout((()=>{const e=v.querySelector(".gari-btn:last-child")||b.querySelector(".gari-close-btn");e&&e.focus()}),80),"fullscreen"===s){const e=b.querySelector(".gari-close-btn");e&&e.addEventListener("click",(()=>closeDialog(T,(()=>g({closed:!0})))))}if(u){const e=t=>{"Escape"===t.key&&(closeDialog(T,(()=>g({closed:!0}))),document.removeEventListener("keydown",e))};document.addEventListener("keydown",e)}if(p){switch("string"==typeof p?p:c){case"success":soundSuccess();break;case"danger":soundError();break;case"warning":soundWarning();break;case"info":soundInfo();break;default:soundDefault()}}document.body.appendChild(T)}openGariDialogs&&currentBackdrop?closeDialog(currentBackdrop,(()=>x())):x()}))}function closeDialog(e,t){openGariDialogs=!1,e.classList.add("gari-fade-out"),setTimeout((()=>{e.remove(),t&&t()}),200)}function createIconElement(e,t){const n=document.createElement("div");let c;return n.className="gari-avatar",n.style.background=t,e?(e.startsWith("fa-")||e.startsWith("fa ")?c=Object.assign(document.createElement("i"),{className:`fa ${e}`}):e.startsWith("bi-")?c=Object.assign(document.createElement("i"),{className:`bi ${e}`}):1===e.length||e.match(/\p{Emoji}/u)?Object.assign(c=document.createElement("span"),{textContent:e,style:"font-size:24px"}):Object.assign(c=document.createElement("i"),{className:"material-symbols-rounded",textContent:e}),n.appendChild(c),n):n}function createPromptInput(e,t="",n="",c="",a=""){const r=document.createElement("div");if(r.className="gari-prompt-wrapper",c){const e=document.createElement("label");e.textContent=c,r.appendChild(e)}const o="textarea"===e?Object.assign(document.createElement("textarea"),{rows:4}):Object.assign(document.createElement("input"),{type:["number","email","password"].includes(e)?e:"text"});return o.placeholder=t,o.value=n,o.name=a,o.className="gari-prompt-input",r.appendChild(o),r}const ctx=new AudioContext;function soundWarning(){const e=ctx.createOscillator(),t=ctx.createGain();e.frequency.value=180,t.gain.setValueAtTime(.7,ctx.currentTime),t.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.08),e.connect(t).connect(ctx.destination),e.start(),e.stop(ctx.currentTime+.08);const n=ctx.createOscillator(),c=ctx.createGain();n.frequency.value=220,c.gain.setValueAtTime(.7,ctx.currentTime+.12),c.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.2),n.connect(c).connect(ctx.destination),n.start(ctx.currentTime+.12),n.stop(ctx.currentTime+.2)}function soundError(){const e=ctx.createOscillator(),t=ctx.createGain();e.frequency.value=90,t.gain.setValueAtTime(.8,ctx.currentTime),t.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.28),e.connect(t).connect(ctx.destination),e.start(),e.stop(ctx.currentTime+.28)}function soundSuccess(){function e(e,t){const n=ctx.createOscillator(),c=ctx.createGain();n.type="triangle",n.frequency.setValueAtTime(e,ctx.currentTime+t),c.gain.setValueAtTime(.001,ctx.currentTime+t),c.gain.exponentialRampToValueAtTime(.3,ctx.currentTime+t+.03),c.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+t+.1),n.connect(c).connect(ctx.destination),n.start(ctx.currentTime+t),n.stop(ctx.currentTime+t+.12)}e(1400,0),e(1700,.06)}function soundInfo(){const e=ctx.createOscillator(),t=ctx.createGain();e.frequency.value=260,t.gain.setValueAtTime(.5,ctx.currentTime),t.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.12),e.connect(t).connect(ctx.destination),e.start(),e.stop(ctx.currentTime+.12)}function soundDefault(){const e=ctx.createOscillator(),t=ctx.createGain();e.frequency.value=200,t.gain.setValueAtTime(.5,ctx.currentTime),t.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.1),e.connect(t).connect(ctx.destination),e.start(),e.stop(ctx.currentTime+.1)}